/*! For license information please see 28.5bf71bcdb4952498705a.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{100:function(t,e,i){"use strict";var r=i(263),n=i.n(r),o=i(59),a={name:"DragDrop",props:{id:{type:String,required:!0},targetBody:{type:Boolean,required:!1,default:!1},maxFiles:{type:Number,required:!1,default:1},allowedFileTypes:{type:Array,required:!1,default:function(){return[]}},inputName:{type:String,required:!1,default:"files[]"},shouldPreventClick:{type:Boolean,default:!1}},data:function(){return{isDragDropSupported:!1,dragDropInstanceToRemove:null,isHover:!1}},computed:{dragDropClasses:function(){return{"drag-drop-unsupported":!this.isDragDropSupported,"is-hover":this.isHover}},inputStyles:function(){return{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1}}},mounted:function(){var t=this;if(this.isDragDropSupported=this.determineDragAndDropCapable(),this.isDragDropSupported){var e=this.targetBody?document.body:this.$el;this.dragDropInstanceToRemove=n()(e,{onDrop:function(e,i,r,n){t.$emit("drop",e,i,r,n);var o=e.filter((function(e){return!t.allowedFileTypes.length||(!!t.allowedFileTypes.includes(e.type)||(Dribbble.EventBus.$emit("siteNotifications:add",{message:"This file type is not allowed here.",title:e.name}),!1))}));t.$emit("files-added",{id:t.id,files:o})},onDragEnter:function(e){t.$emit("drag-enter",e)},onDragLeave:function(e){t.$emit("drag-leave",e)}})}},beforeDestroy:function(){this.dragDropInstanceToRemove&&this.dragDropInstanceToRemove()},methods:{onInputChange:function(t){var e=t.target.files,i=Object.keys(e).map((function(t){return e[t]}));i&&0!==i.length&&this.$emit("files-added",{id:this.id,files:i}),this.$refs&&this.$refs.dragDropInput&&(this.$refs.dragDropInput.value="")},onMouseOver:function(){Object(o.a)()||(this.isHover=!0)},onMouseLeave:function(){Object(o.a)()||(this.isHover=!1)},onTouchStart:function(){Object(o.a)()&&(this.isHover=!0)},onTouchEnd:function(){Object(o.a)()&&(this.isHover=!1)},onClick:function(){this.shouldPreventClick||Object(o.a)()||this.triggerClick()},onTap:function(){!this.shouldPreventClick&&Object(o.a)()&&this.triggerClick()},triggerClick:function(){this.$refs.dragDropInput.click(),this.$emit("drop-area-clicked",{id:this.id})},determineDragAndDropCapable:function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&"FormData"in window&&"FileReader"in window}}},s=i(0),c=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"touch",rawName:"v-touch:start",value:t.onTouchStart,expression:"onTouchStart",arg:"start"},{name:"touch",rawName:"v-touch:end",value:t.onTouchEnd,expression:"onTouchEnd",arg:"end"},{name:"touch",rawName:"v-touch:tap",value:t.onTap,expression:"onTap",arg:"tap"}],staticClass:"drag-drop-container",class:t.dragDropClasses,attrs:{id:t.id},on:{mouseover:t.onMouseOver,mouseleave:t.onMouseLeave,click:t.onClick}},[t.isDragDropSupported?t._t("default",(function(){return[e("p",{staticClass:"default-drop-area"},[t._v("\n      Drop files here to upload\n    ")])]})):e("p",{staticClass:"default-drop-area"},[t._v("\n    Click to Upload Files\n  ")]),t._v(" "),e("label",{staticClass:"drag-drop-label"},[e("input",{ref:"dragDropInput",staticClass:"drag-drop-input",style:t.inputStyles,attrs:{value:"",type:"file",name:t.inputName,multiple:1!==t.maxFiles,accept:t.allowedFileTypes},on:{change:t.onInputChange}})])],2)}),[],!1,null,null,null);e.a=c.exports},255:function(t,e,i){"use strict";var r={name:"VImg",props:{refId:{type:[Number,String],required:!1,default:""},src:{type:String,default:null},altImageText:{type:String,default:null},srcset:{type:String,default:null},dataSrc:{type:String,default:null},dataSrcset:{type:String,default:null},dataAspectRatio:{type:Number,default:null},isLazyLoaded:{type:Boolean,default:!1},sizes:{type:String,default:null},width:{type:Number,default:null},height:{type:Number,default:null}},mounted:function(){this.isLazyLoaded&&this.$el.classList.add("lazyload")},methods:{emitImageLoad:function(t){this.$emit("image-load",{id:this.refId,el:t.target})}}},n=i(0),o=Object(n.a)(r,(function(){var t=this;return(0,t._self._c)("img",{staticClass:"v-img",attrs:{"data-test":"v-img",src:t.src,alt:t.altImageText,width:t.width,height:t.height,srcset:t.srcset,"data-src":t.isLazyLoaded&&t.dataSrc,"data-srcset":t.isLazyLoaded&&t.dataSrcset,"data-sizes":t.isLazyLoaded?"auto":null,"data-aspectratio":t.isLazyLoaded&&t.dataAspectRatio,sizes:!t.isLazyLoaded&&t.sizes,draggable:!1},on:{load:t.emitImageLoad}})}),[],!1,null,null,null);e.a=o.exports},260:function(t,e,i){"use strict";var r=i(2),n=i(36),o=i(17),a=i(4),s=i(100),c=i(325),l=i(327),u=i(329);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){h(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function h(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p={name:"BlockMediaEdit",components:{BlockMediaView:l.a,BlockMediaPlaceholder:u.a,ProgressOverlay:c.a,DragDrop:s.a},props:{block:a.z,mediaId:{type:[String,null],default:null},allowedFileTypes:{type:Array,default:function(){return o.m}},aspectRatio:{type:[Number,null],default:null},objectFit:{type:String,default:a.n,validator:function(t){return a.P.includes(t)}},contentObject:a.A,preventDefaultUpload:{type:Boolean,default:!1},isStillVideo:{type:Boolean,default:!1}},data:function(){return{BlockMedia:a.c,imageAndVideoMimeTypes:o.m,INTENT_EDIT_MEDIA:n.a}},computed:{blockMediaParams:function(){return{block:this.block,mediaId:this.mediaId}},hasMedia:function(){return!!a.c.url(this.blockMediaParams)},errorMessage:function(){var t=a.c.get(this.blockMediaParams).tempMedia;return null!=t&&t.uploadFailed?"Upload failed":null}},methods:f(f(f({},Object(r.c)("contentBlocks",["uploadContentBlockMedia"])),Object(r.e)(["setIntent"])),{},{openDragDropFileInput:function(){this.$refs.dragDrop.triggerClick()},emitAndUploadMedia:function(t){var e=t.files;this.$emit("files-added",e),this.preventDefaultUpload||this.uploadContentBlockMedia(f(f({},this.blockMediaParams),{},{files:e}))}})},v=(i(521),i(0)),m=Object(v.a)(p,(function(){var t=this,e=t._self._c;return e("progress-overlay",{staticClass:"progress-overlay",attrs:{progress:t.BlockMedia.uploadProgress(t.blockMediaParams),"error-message":t.errorMessage},nativeOn:{click:function(e){return t.setIntent(t.INTENT_EDIT_MEDIA)}}},[e("drag-drop",{ref:"dragDrop",attrs:{id:`drag-drop-block-media-${t.block.id}`,"allowed-file-types":t.allowedFileTypes,"should-prevent-click":""},on:{"files-added":t.emitAndUploadMedia}},[t.hasMedia?e("block-media-view",{attrs:{block:t.block,"media-id":t.mediaId,"aspect-ratio":t.aspectRatio,"object-fit":t.objectFit,"content-object":t.contentObject,"is-still-video":t.isStillVideo,"prevent-lightbox":"","is-editing":""}}):e("block-media-placeholder",{on:{click:t.openDragDropFileInput}})],1)],1)}),[],!1,null,"7dc72494",null);e.a=m.exports},325:function(t,e,i){"use strict";var r={name:"ProgressOverlay",components:{Icon:i(18).default},props:{progress:{type:Number,default:null,validator:function(t){return t>=0&&t<=100}},errorMessage:{type:String,default:null}}},n=(i(504),i(0)),o=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",arrow:!0,arrowTransform:"scale(0.75)"},expression:"{\n    placement: 'top',\n    arrow: true,\n    arrowTransform: 'scale(0.75)',\n  }"}],staticClass:"progress-overlay",attrs:{title:t.errorMessage}},[t._t("default"),t._v(" "),t.progress>0?e("div",{staticClass:"progress",style:{left:`${t.progress}%`}}):t._e(),t._v(" "),t.errorMessage?e("icon",{staticClass:"error-icon",attrs:{"svg-class":"icon",type:"exclamation"}}):t._e()],2)}),[],!1,null,"4e01f2aa",null);e.a=o.exports},327:function(t,e,i){"use strict";var r=i(22),n=i(4),o=i(39),a=function(t){var e=t.mediaUrl,i=t.width,r=t.height,n=void 0===r?"":r;return Object(o.a)(e,{resize:"".concat(i,"x").concat(n),vertical:"center"})},s=function(t){var e=t.mediaUrl,i=t.appendHeight,r=void 0!==i&&i;return decodeURIComponent(Object(o.a)(e,{resize:r?"{width}x{height}":"{width}x",vertical:"center"}))},c=function(t){var e=t.mediaUrl,i=t.widths,r=t.aspectRatio;return e?i.map((function(t){var i=Math.round(t/r),n=a({mediaUrl:e,width:t,height:i});return"".concat(n," ").concat(t,"w")})).join(", "):""},l={name:"Observer",props:{root:{type:Object,default:null},rootMargin:{type:[String,Number],default:"0px"},threshold:{type:[Array,Number],default:0}},data:function(){return{observer:null}},mounted:function(){var t=this,e={root:this.root,rootMargin:this.rootMargin,threshold:this.threshold};this.observer=new IntersectionObserver((function(e){t.$emit("on-change",e[0],t.unobserve)}),e),this.observer.observe(this.$el)},beforeDestroy:function(){this.observer&&(this.unobserve(),this.observer=null)},methods:{unobserve:function(){this.observer.unobserve(this.$el)}}},u=i(0),d=Object(u.a)(l,(function(){return(0,this._self._c)("div",[this._t("default")],2)}),[],!1,null,null,null).exports,f={name:"MediaSkeletonProvider",props:{isLoaded:{type:Boolean,default:!1},aspectRatio:{type:String,default:"auto"}}};i(507);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){v(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function v(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var m={name:"BlockMediaView",components:{Observer:d,MediaSkeletonProvider:Object(u.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"img-skeleton-wrapper",class:[t.isLoaded?"loaded":"loading"],style:{aspectRatio:t.aspectRatio}},[[t._t("default")],t._v(" "),e("div",{staticClass:"skeleton-container skeleton-template animate-translate"})],2)}),[],!1,null,"6751b68c",null).exports,VImg:i(255).a},props:{block:n.z,mediaId:{type:[String,null],default:null},isEditing:{type:Boolean,default:!1},aspectRatio:{type:[Number,null],default:null},objectFit:{type:String,default:n.m,validator:function(t){return n.P.includes(t)}},contentObject:n.A,isStillVideo:{type:Boolean,default:!1},togglePlayOnClick:{type:Boolean,default:!1},preventLazyLoad:{type:Boolean,default:!1},preventLightbox:{type:Boolean,default:!1}},data:function(){return{MEDIA_IMAGE_TYPE:r.b,MEDIA_VIDEO_TYPE:r.c,MEDIA_GIF_TYPE:r.a,OBJECT_FIT_COVER:n.n,OBJECT_FIT_CONTAIN:n.m,generateResizedMediaUrl:a,isMounted:!1,isMediaLoaded:!1,isVisible:!1,observerKey:""}},computed:{nonLazyWidths:function(){var t=this;return[300,400,600,752,1024,1200,1504,2048,2400].filter((function(e){return e<=t.width}))},blockMediaParams:function(){return{block:this.block,mediaId:this.mediaId}},media:function(){var t;return null==(t=n.c.get(this.blockMediaParams))?void 0:t.media},userUpload:function(){var t;return null==(t=n.c.get(this.blockMediaParams))?void 0:t.userUpload},width:function(){var t;return(null==(t=this.media)?void 0:t.width)||320},height:function(){var t;return(null==(t=this.media)?void 0:t.height)||240},containerAspectRatio:function(){return this.aspectRatio||this.mediaAspectRatio},mediaAspectRatio:function(){return n.c.aspect(this.blockMediaParams)},mediaUrl:function(){return n.c.url(this.blockMediaParams)},stillMediaUrl:function(){var t=n.c.url(p(p({},this.blockMediaParams),{},{isStill:!0}))||"";return t.includes("blob:")?"":t},autoFitClass:function(){return this.mediaAspectRatio>this.containerAspectRatio?"auto-height":"auto-width"},mediaContentObject:function(){return Object.keys(this.contentObject).length?this.contentObject:this.block.content},supportsResizing:function(){var t,e;return(null==(t=this.media)?void 0:t.type)===r.b&&(null==(e=this.media)?void 0:e.fileExtension)!==r.a},isMediaLoading:function(){return!!this.media&&!this.isMediaLoaded},isMediaLazy:function(){var t;return!this.isEditing&&((null==(t=this.media)?void 0:t.type)===r.c||!this.preventLazyLoad)},videoSrc:function(){if(!this.isMounted)return n.c.url(this.blockMediaParams);var t=this.$el.offsetWidth*(window.devicePixelRatio||1);return n.c.url(p(p({},this.blockMediaParams),{},{elementWidth:t}))},shouldVideoPlay:function(){return!this.isStillVideo&&this.isVisible&&this.mediaContentObject.shouldVideoAutoplay},lightboxImageSrcset:function(){var t=this,e=[this.width,640,850,1024,1600,1905,2400,3810].filter((function(e){return e<=t.width}));return c({mediaUrl:this.mediaUrl,aspectRatio:this.mediaAspectRatio,widths:e})},imageProps:function(){var t,e={refId:null==(t=this.media)?void 0:t.id,class:"content-block border-radius-8",altImageText:this.mediaContentObject.alt,height:this.height,width:this.width},i=this.stillMediaUrl||this.mediaUrl;if(this.isEditing||!this.supportsResizing)return p({src:i,isLazyLoaded:!this.isEditing},e);if(this.preventLazyLoad){var r=this.objectFit===n.n?this.containerAspectRatio:this.mediaAspectRatio;return p({src:a({mediaUrl:i,width:this.width<752?this.width:752}),srcSet:c({mediaUrl:i,aspectRatio:r,widths:this.nonLazyWidths}),sizes:this.block.content.isFullWidth?"(max-width: 767px) 100vw, (max-width: 919px) calc(100vw - 32px), (max-width: 1278px) calc(100vw - 240px), 1024px":"(max-width: 788px) calc(100vw - 32px), 752px",isLazyLoaded:!1},e)}return p({dataSrc:s({mediaUrl:i,appendHeight:!0}),dataAspectRatio:this.objectFit===n.m?this.mediaAspectRatio:this.containerAspectRatio,isLazyLoaded:!0},e)}},watch:{shouldVideoPlay:function(t){t?this.playVideo():this.pauseVideo()}},mounted:function(){var t,e,i,n=this;this.isMounted=!0,this.observerKey="".concat(null==(t=this.media)?void 0:t.type,"-").concat(Dribbble.uuidv4()),(null==(e=this.media)?void 0:e.type)!==r.b||this.preventLightbox||Dribbble.EventBus.$emit("lightbox-item:mounted"),(null==(i=this.media)?void 0:i.type)!==r.c||this.isStillVideo||customElements.whenDefined("drb-video").then((function(){n.$nextTick((function(){var t=n.$el.querySelector("drb-video");null!=t&&t.videoHasLoaded&&n.setMediaLoaded()}))}))},methods:{updateVisibility:function(t){this.isVisible=t.isIntersecting},setMediaLoaded:function(){this.isMediaLoaded=!0},playVideo:function(){try{var t;null==(t=this.$refs.videoElement)||t.play()}catch(e){console.warn("Video playback failed:",e)}},pauseVideo:function(){var t;null==(t=this.$refs.videoElement)||t.pause()}}},y=(i(508),Object(u.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"block-media-wrapper",style:{aspectRatio:t.containerAspectRatio.toString()}},[t.media?e("observer",{key:t.observerKey,class:`block-media ${t.objectFit} ${t.autoFitClass} ${t.isMediaLazy&&"is-lazy"}`,style:{aspectRatio:(t.objectFit===t.OBJECT_FIT_COVER?t.containerAspectRatio:t.mediaAspectRatio).toString(),"--object-fit":t.objectFit},attrs:{threshold:[.5]},on:{"on-change":t.updateVisibility}},[t.isMediaLoading?e("media-skeleton-provider",{staticClass:"skeleton-wrapper"}):t._e(),t._v(" "),t.media.type===t.MEDIA_IMAGE_TYPE?[t.preventLightbox?e("v-img",t._b({on:{"image-load":t.setMediaLoaded}},"v-img",t.imageProps,!1)):e("a",{attrs:{"data-photoswipe-image":"",href:t.supportsResizing?t.generateResizedMediaUrl({mediaUrl:t.mediaUrl,width:752}):t.mediaUrl,"data-pswp-srcset":t.supportsResizing?t.lightboxImageSrcset:"","data-pswp-width":t.width,"data-pswp-height":t.height,"data-cropped":t.objectFit===t.OBJECT_FIT_COVER,target:"_blank"}},[e("v-img",t._b({on:{"image-load":t.setMediaLoaded}},"v-img",t.imageProps,!1))],1)]:t.media.type===t.MEDIA_VIDEO_TYPE&&t.isStillVideo&&t.stillMediaUrl?[e("v-img",t._b({on:{"image-load":t.setMediaLoaded}},"v-img",t.imageProps,!1))]:t.media.type===t.MEDIA_VIDEO_TYPE?[e("drb-video",{staticClass:"video-container",class:{"is-loaded":!t.isMediaLoading},attrs:{"toggle-play-on-click":t.togglePlayOnClick},on:{"video-loaded":t.setMediaLoaded}},[e("video",{ref:"videoElement",attrs:{src:t.videoSrc,loop:t.mediaContentObject.shouldVideoLoop,preload:"auto",playsinline:"",muted:""},domProps:{muted:!0}})])]:t._e()],2):t._e()],1)}),[],!1,null,"77c128cd",null));e.a=y.exports},329:function(t,e,i){"use strict";var r={name:"BlockMediaPlaceholder",methods:{emitClick:function(){this.$emit("click")}}},n=(i(520),i(0)),o=Object(n.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"placeholder"},[e("span",[t._t("default",(function(){return[t._v("\n      Drag and drop media, or\n      "),e("span",{staticClass:"browse-button",on:{click:t.emitClick}},[t._v(" Browse")])]}))],2)])}),[],!1,null,"49307330",null);e.a=o.exports},36:function(t,e,i){"use strict";i.d(e,"f",(function(){return h})),i.d(e,"g",(function(){return p})),i.d(e,"h",(function(){return v})),i.d(e,"e",(function(){return m})),i.d(e,"i",(function(){return y})),i.d(e,"j",(function(){return g})),i.d(e,"d",(function(){return b})),i.d(e,"b",(function(){return w})),i.d(e,"a",(function(){return k})),i.d(e,"c",(function(){return O})),i.d(e,"s",(function(){return x})),i.d(e,"q",(function(){return j})),i.d(e,"t",(function(){return S})),i.d(e,"l",(function(){return L})),i.d(e,"n",(function(){return _})),i.d(e,"k",(function(){return I})),i.d(e,"m",(function(){return M})),i.d(e,"o",(function(){return P})),i.d(e,"p",(function(){return T})),i.d(e,"r",(function(){return C})),i.d(e,"u",(function(){return D}));var r=i(10),n=i.n(r),o=i(22),a=i(4);function s(){s=function(){return e};var t,e={},i=Object.prototype,r=i.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,i){return t[e]=i}}function d(t,e,i,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new P(r||[]);return n(a,"_invoke",{value:L(t,i,s)}),a}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",y={};function g(){}function b(){}function w(){}var k={};u(k,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(T([])));E&&E!==i&&r.call(E,a)&&(k=E);var x=w.prototype=g.prototype=Object.create(k);function j(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function i(n,o,a,s){var c=f(t[n],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return o=o?o.then(n,n):n()}})}function L(e,i,r){var n=h;return function(o,a){if(n===v)throw Error("Generator is already running");if(n===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===h)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=v;var l=f(e,i,r);if("normal"===l.type){if(n=r.done?m:p,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=m,r.method="throw",r.arg=l.arg)}}}function _(e,i){var r=i.method,n=e.iterator[r];if(n===t)return i.delegate=null,"throw"===r&&e.iterator.return&&(i.method="return",i.arg=t,_(e,i),"throw"===i.method)||"return"!==r&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(n,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,y;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,y):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,y)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function T(e){if(e||""===e){var i=e[a];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,n(x,"constructor",{value:w,configurable:!0}),n(w,"constructor",{value:b,configurable:!0}),b.displayName=u(w,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},j(S.prototype),u(S.prototype,c,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,r,n,o){void 0===o&&(o=Promise);var a=new S(d(t,i,r,n),o);return e.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(x),u(x,l,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var r in e)i.push(r);return i.reverse(),function t(){for(;i.length;){var r=i.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(r,n){return s.type="throw",s.arg=e,i.next=r,n&&(i.method="next",i.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),M(i),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;M(i)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:T(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function c(t,e,i,r,n,o,a){try{var s=t[o](a),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(r,n)}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function u(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}var h="descriptionPrompModal",p="finalTouchesModal",v="projectModal",m="createProjectModal",y="scheduleModal",g="selectThumbnailModal",b="collaboratorsModal",w="intentEditText",k="intentEditMedia",O="intentNone",E="editableText",x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(E).concat(t)},j=function(t){return"".concat("contentBlock").concat(t)},S=function(t){var e,i,r,n=t.refs,o=t.blockId,a=null==(e=n[x(o)])?void 0:e[0],s=null==(i=n[j(o)])?void 0:i[0];if(null!=s&&s.$refs){var c=Object.keys(s.$refs),l=c.findIndex((function(t){return t.startsWith(E)}));l>-1&&(r=s.$refs[c[l]])}return a||r},L=function(t,e){var i={label:t.name,value:t.id,imageUrl:t.avatarUrl,isDisabled:e&&!t.canAccessPro},r=t.teams.map((function(t){var i=t.name,r=t.id,n=t.avatarUrl,o=t.canAccessPro;return{label:i,value:r,imageUrl:n,isDisabled:e&&!o}}));return[i].concat(d(r))},_=function(t){return t.map((function(t){var e,i,r={name:t.name,width:null==(e=t.dimensions)?void 0:e.width,height:null==(i=t.dimensions)?void 0:i.height,type:t.type,size:t.size};return function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){u(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({id:t.isNew?null:t.id,croppedDetails:t.croppedDetails,keepOriginal:t.keepOriginal,s3SourceUrl:t.s3SourceUrl},t.isNew&&r)}))},I=function(t){return t.map((function(t){return{id:t.isNew?null:t.id,name:t.name,s3SourceUrl:t.s3SourceUrl,size:t.size,type:t.type}}))},M=function(t){var e,i=t.croppedStillUrl,r=t.croppedOriginalUrl,n=t.isVideo,a=t.isAnimatedGif,s=t.shrineCacheId,c=t.fileDetails,l=t.cropData;return e=n?o.c:a?o.a:o.b,{id:Dribbble.uuidv4(),fileId:s,previewUrl:n?r:i||r,cropData:l,thumbnailMediaType:e,progress:0,uploadErrorMsg:null,tempCroppedPreviewUrl:null,fileDetails:c}},P=function(t,e){return e===o.a?o.a:t},T=function(t){var e;return null!=(e=t.content.media)&&e.length?t.content.media.reduce((function(e,i){return i.shrineCacheId&&e.push({id:i.id,fileId:i.shrineCacheId,previewUrl:a.c.url({block:t,mediaId:i.id}),tempCroppedPreviewUrl:null,cropData:{},thumbnailMediaType:P(i.type,i.fileExtension),fileDetails:{}}),e}),[]):[]},C=function(t){var e;return null==(e=T(t))?void 0:e[0]},D=function(){var t,e=(t=s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.a.get("/client_app/user_media");case 2:return e=t.sent,t.abrupt("return",e.data.data.filter((function(t){return!!t.media.length})));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(r,n){var o=t.apply(e,i);function a(t){c(o,r,n,a,s,"next",t)}function s(t){c(o,r,n,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()},372:function(t,e,i){},374:function(t,e,i){},375:function(t,e,i){},386:function(t,e,i){},387:function(t,e,i){},393:function(t,e,i){},394:function(t,e,i){},412:function(t,e,i){"use strict";var r=i(4),n=i(17),o=i(417),a=i(18),s="prevent-touch-move",c="is-carousel-dragging",l={name:"Carousel",components:{Icon:a.default,Flickity:o.a},props:{slideCount:{type:Number,required:!0,validator:function(t){return t>=0}},initialSlideIndex:{type:Number,default:0,validator:function(t){return t>=0}},shouldShowNavigation:{type:Boolean,default:!0},aspectRatio:{type:String,default:"auto"},flickityKey:{type:String,default:"flickity"}},data:function(){return{currentSlideIndex:this.initialSlideIndex,flickityOptions:{prevNextButtons:!1,pageDots:!1,wrapAround:!1,dragThreshold:15}}},computed:{isFirstSlide:function(){return 0===this.currentSlideIndex},isLastSlide:function(){return this.currentSlideIndex===this.slideCount-1}},mounted:function(){this.bindFlickityEvents()},updated:function(){this.unbindFlickityEvents(),this.bindFlickityEvents()},destroyed:function(){this.unbindFlickityEvents()},methods:{disableExtraInteractions:function(){document.body.classList.add(s),document.body.classList.add(c)},enableExtraInteractions:function(){setTimeout((function(){document.body.classList.remove(s),document.body.classList.remove(c)}),0)},bindFlickityEvents:function(){this.$refs.flickity&&(this.$refs.flickity.on("change",this.setCurrentSlide),this.$refs.flickity.on("dragStart",this.disableExtraInteractions),this.$refs.flickity.on("dragEnd",this.enableExtraInteractions),document.addEventListener("touchmove",this.checkTouchMove,{passive:!1}))},unbindFlickityEvents:function(){this.$refs.flickity&&(this.$refs.flickity.off("change",this.setCurrentSlide),this.$refs.flickity.off("dragStart",this.disableExtraInteractions),this.$refs.flickity.off("dragEnd",this.enableExtraInteractions),document.removeEventListener("touchmove",this.checkTouchMove),this.enableExtraInteractions())},checkTouchMove:function(t){document.body.classList.contains(s)&&t.preventDefault()},setCurrentSlide:function(t){this.$emit("slide-change",t),this.currentSlideIndex=t,this.flickityOptions.initialIndex=t},navigateTo:function(t){var e=this.slideCount-1,i=t;i>e&&(i=e),i<0&&(i=0),this.$refs.flickity.select(i)},goToNextSlide:function(){this.$refs.flickity.next()},goToPrevSlide:function(){this.$refs.flickity.previous()}}},u=(i(536),i(0)),d=Object(u.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"carousel",style:{"--aspect-ratio":t.aspectRatio},attrs:{"data-test":"carousel"}},[e("flickity",{key:t.flickityKey,ref:"flickity",staticClass:"base-carousel",attrs:{"data-test":"base-carousel",options:t.flickityOptions},on:{change:e=>t.setCurrentSlide(e)}},[t._t("default")],2),t._v(" "),t.shouldShowNavigation?[t.isFirstSlide?t._e():e("div",{staticClass:"navigation-controls prev-button",attrs:{"data-test":"carousel-prev-button"},on:{click:function(e){return e.stopPropagation(),t.goToPrevSlide.apply(null,arguments)}}},[e("icon",{attrs:{"svg-class":"arrow",type:"caretLeft"}})],1),t._v(" "),!t.isLastSlide&&t.slideCount>1?e("div",{staticClass:"navigation-controls next-button",attrs:{"data-test":"carousel-next-button"},on:{click:function(e){return e.stopPropagation(),t.goToNextSlide.apply(null,arguments)}}},[e("icon",{attrs:{"svg-class":"arrow",type:"caretRight"}})],1):t._e()]:t._e()],2)}),[],!1,null,"3f31069a",null),f=d.exports,h=i(327),p=i(260);function v(){v=function(){return e};var t,e={},i=Object.prototype,r=i.hasOwnProperty,n=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,i){return t[e]=i}}function u(t,e,i,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new P(r||[]);return n(a,"_invoke",{value:L(t,i,s)}),a}function d(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",y={};function g(){}function b(){}function w(){}var k={};l(k,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(T([])));E&&E!==i&&r.call(E,a)&&(k=E);var x=w.prototype=g.prototype=Object.create(k);function j(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function i(n,o,a,s){var c=d(t[n],t,o);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?e.resolve(u.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(u).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return o=o?o.then(n,n):n()}})}function L(e,i,r){var n=f;return function(o,a){if(n===p)throw Error("Generator is already running");if(n===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=_(s,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var l=d(e,i,r);if("normal"===l.type){if(n=r.done?m:h,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=m,r.method="throw",r.arg=l.arg)}}}function _(e,i){var r=i.method,n=e.iterator[r];if(n===t)return i.delegate=null,"throw"===r&&e.iterator.return&&(i.method="return",i.arg=t,_(e,i),"throw"===i.method)||"return"!==r&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=d(n,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,y;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,y):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,y)}function I(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function T(e){if(e||""===e){var i=e[a];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,n(x,"constructor",{value:w,configurable:!0}),n(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,c,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},j(S.prototype),l(S.prototype,s,(function(){return this})),e.AsyncIterator=S,e.async=function(t,i,r,n,o){void 0===o&&(o=Promise);var a=new S(u(t,i,r,n),o);return e.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(x),l(x,c,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var r in e)i.push(r);return i.reverse(),function t(){for(;i.length;){var r=i.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(r,n){return s.type="throw",s.arg=e,i.next=r,n&&(i.method="next",i.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),M(i),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;M(i)}return n}}throw Error("illegal catch attempt")},delegateYield:function(e,i,r){return this.delegate={iterator:T(e),resultName:i,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function m(t,e,i,r,n,o,a){try{var s=t[o](a),c=s.value}catch(t){return void i(t)}s.done?e(c):Promise.resolve(c).then(r,n)}var y={name:"SlideshowBlockBase",components:{Icon:function(){return Promise.resolve().then(i.bind(null,18))},BlockMediaPlaceholder:i(329).a,BlockMediaEdit:p.a,BlockMediaView:h.a,Carousel:f},props:{block:r.z,isEditing:{type:Boolean,default:!1}},data:function(){return{isMounted:!1,imageAndVideoMimeTypes:n.m,currentSlideIndex:0}},computed:{slides:function(){return this.block.content.slides},aspectRatio:function(){return this.slides.length?r.c.aspect({block:this.block,mediaId:this.slides[0].mediaId}):16/9},blockMediaComponent:function(){return this.isEditing?"BlockMediaEdit":"BlockMediaView"},flickityKey:function(){var t=this.slides.map((function(t){return t.mediaId}));return"flickity-".concat(t.join("-"))}},mounted:function(){var t=this;this.isMounted=!0,Dribbble.EventBus.$on("slideshow:slideSelected",(function(e){var i=e.slideIndex,r=e.blockId;t.block.id===r&&t.navigateToSlide(i)})),this.isEditing&&this.initializeSortable()},methods:{emitFilesAdded:function(t){this.$emit("files-added",t)},updateCurrentSlide:function(t){this.currentSlideIndex=t,this.$emit("slide-change",t),this.isEditing||this.scrollThumbnailList(t)},scrollThumbnailList:function(t){var e=this.$refs["thumbnails-list"],i=null==e?void 0:e.querySelector('[data-thumbnail-index="'.concat(t,'"]'));if(e&&i){var r=e.getBoundingClientRect(),n=i.getBoundingClientRect(),o=n.left-r.left,a=r.right-n.right;o<70?e.scrollBy({left:-n.width,behavior:"smooth"}):a<70&&e.scrollBy({left:n.width,behavior:"smooth"})}},emitDeleteSlide:function(t){this.$emit("delete-slide",t)},emitOpenFileInput:function(){this.$emit("open-file-input")},navigateToSlide:function(t){this.$refs["slideshow-carousel"].navigateTo(t)},fullMediaType:function(t){return r.c.fullType({block:this.block,mediaId:t})},initializeSortable:function(){var t,e=this;return(t=v().mark((function t(){var r,n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(49).then(i.bind(null,459));case 2:r=t.sent,n=r.Sortable,e.sortable=n.create(e.$refs["thumbnails-list"],{animation:150,filter:"[data-sortable-disabled]",dataIdAttr:"data-media-id",onSort:function(){e.$emit("sort-slides",e.sortable.toArray())},onMove:function(t){return!t.related.hasAttribute("data-sortable-disabled")}});case 5:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(r,n){var o=t.apply(e,i);function a(t){m(o,r,n,a,s,"next",t)}function s(t){m(o,r,n,a,s,"throw",t)}a(void 0)}))})()}}},g=y,b=(i(537),Object(u.a)(g,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"width-100"},[e("carousel",{ref:"slideshow-carousel",staticClass:"w-100",attrs:{"aspect-ratio":t.aspectRatio.toString(),"slide-count":t.slides.length,"flickity-key":t.flickityKey},on:{"slide-change":t.updateCurrentSlide}},[!t.slides.length&&t.isEditing?e("block-media-placeholder",{on:{click:t.emitOpenFileInput}}):t._l(t.slides,(function(i){return e(t.blockMediaComponent,{key:i.mediaId,tag:"component",attrs:{block:t.block,"media-id":i.mediaId,"aspect-ratio":t.aspectRatio,"object-fit":i.objectFit,"content-object":i,"prevent-default-upload":""},on:{"files-added":t.emitFilesAdded}})}))],2),t._v(" "),e("div",{staticClass:"thumbnails-container"},[t.isEditing?t._e():e("span",{staticClass:"scroll-indicator left"}),t._v(" "),t.isEditing?t._e():e("span",{staticClass:"scroll-indicator right"}),t._v(" "),e("ul",{ref:"thumbnails-list",staticClass:"thumbnails-list",class:{"is-editing":t.isEditing,"is-viewing":!t.isEditing}},[t._l(t.slides,(function(i,r){return e("li",{key:`thumbnail-wrapper-${i.mediaId}`,staticClass:"thumbnail-wrapper",attrs:{"data-media-id":i.mediaId,"data-thumbnail-index":r}},[t.isEditing?e("button",{staticClass:"delete-button",on:{click:function(e){return t.emitDeleteSlide(r)}}},[e("icon",{attrs:{type:"trash","svg-class":"delete-icon"}})],1):t._e(),t._v(" "),"image"===t.fullMediaType(i.mediaId)||t.isEditing?t._e():e("div",{class:`media-type-icon ${t.fullMediaType(i.mediaId)} loading-indicators-image`}),t._v(" "),e("button",{staticClass:"thumbnail-button",class:{"is-active":t.currentSlideIndex===r},on:{click:function(e){return t.navigateToSlide(r)}}},[e(t.blockMediaComponent,{key:`thumb-${i.mediaId}`,tag:"component",attrs:{block:t.block,"media-id":i.mediaId,"aspect-ratio":4/3,"object-fit":"cover","content-object":i,"prevent-default-upload":"","prevent-lightbox":"","is-still-video":""},on:{"files-added":t.emitFilesAdded}})],1)])})),t._v(" "),t.isEditing?e("li",{staticClass:"thumbnail-wrapper",attrs:{"data-sortable-disabled":""}},[e("button",{staticClass:"thumbnail-button create-slide-button",on:{click:t.emitOpenFileInput}},[e("icon",{attrs:{type:"plus","svg-class":"plus-icon"}})],1)]):t._e()],2)])],1)}),[],!1,null,"0b3b9349",null));e.a=b.exports},504:function(t,e,i){"use strict";i(372)},507:function(t,e,i){"use strict";i(374)},508:function(t,e,i){"use strict";i(375)},520:function(t,e,i){"use strict";i(386)},521:function(t,e,i){"use strict";i(387)},536:function(t,e,i){"use strict";i(393)},537:function(t,e,i){"use strict";i(394)},59:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var r=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)||function(t){return window.matchMedia(t).matches}(["(",t.join("touch-enabled),("),"heartz",")"].join(""))}},831:function(t,e,i){"use strict";i.r(e);var r=i(4),n={name:"SlideshowBlockView",components:{SlideshowBlockBase:i(412).a},props:{block:r.z}},o=i(0),a=Object(o.a)(n,(function(){return(0,this._self._c)("slideshow-block-base",{attrs:{block:this.block}})}),[],!1,null,null,null);e.default=a.exports}}]);