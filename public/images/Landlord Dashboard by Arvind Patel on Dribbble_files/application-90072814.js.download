import"./portfolio-new-e69d497e.js";import{g as ve}from"./request-8716ca80.js";import{I as S}from"./internal-tracking-75c29d86.js";import{D as ke}from"./drb-toast-helpers-b5930a70.js";import{t as w}from"./google-tag-manager-utils-cbc0cd1f.js";import{c as Ie}from"./v2-check-circle-974aa791.js";import{S as Te}from"./site-footer-d4d6d040.js";import{A as Se}from"./index-09fe8a6c.js";import{G as Me}from"./google-sign-in-1b74c7a9.js";import{P as M,b as ye}from"./form-validation-6d208060.js";import{c as N,e as Ee}from"./expand-collapse-2e1b5c75.js";import{i as Le}from"./site-nav-autocomplete-c6f7e17d.js";import{D as q}from"./drb-confirm-helpers-15e164fa.js";import{D as Pe}from"./drb-dialog-helpers-e849db1b.js";import{f as $,s as x}from"./pricing-03f3c7e1.js";import{A as we,P as Fe,a as _e}from"./photoswipe-92d8a343.js";import{F as De}from"./form-handler-5df764bf.js";import{a as H}from"./v2-alert-pink-5610c78e.js";import{c as Ae}from"./check-verified-654e50fe.js";import{S as qe}from"./screen-transitions-13cc6169.js";import{_ as Ve}from"./preload-helper-b857222e.js";import{F as Oe}from"./flickity-7e21c332.js";import{a as Re}from"./media-37c7c646.js";import{P as He}from"./project-cost-breakdown-b1fba35b.js";import{S as Ne}from"./site-nav-a5f3a770.js";import{c as $e,s as f}from"./index-ecfc279f.js";/* empty css                           */import"./unsafe-html-c2c7ba68.js";import"./chunk.6CTB5ZDJ-ecd2c56f.js";import"./animation-7e2d11a2.js";import"./_commonjsHelpers-de833af9.js";import"./debounce-323e2cb5.js";import"./js.cookie-edb2da2a.js";import"./file-upload-f508415a.js";import"./index-ec1be37d.js";import"./axios-8f19e258.js";import"./axios_helper-2919371d.js";import"./string-b2a8167b.js";import"./url-36a92b4e.js";var R;R={config:{},run:function(){return this.getController().processElements()},process:function(...t){var e,r,s;for(r=0,s=t.length;r<s;r++)e=t[r],this.getController().processElement(e);return t.length},getController:function(){return this.controller!=null?this.controller:this.controller=new R.Controller}};var j,W,B,y,U,Y,Z,J,X,D,G,z,K,A,C,b,Q,ee,L,te,P,F,re,k,I,m,se,T,ie,ae,_,ne,oe,V,O,u=R;u.config.useFormat24=!1,u.config.i18n={en:{date:{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yesterday:"yesterday",today:"today",tomorrow:"tomorrow",on:"on {date}",formats:{default:"%b %e, %Y",thisYear:"%b %e"}},time:{am:"am",pm:"pm",singular:"a {time}",singularAn:"an {time}",elapsed:"{time} ago",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",formats:{default:"%l:%M%P",default_24h:"%H:%M"}},datetime:{at:"{date} at {time}",formats:{default:"%B %e, %Y at %l:%M%P %Z",default_24h:"%B %e, %Y at %H:%M %Z"}}}},u.config.locale="en",u.config.defaultLocale="en",u.config.timerInterval=6e4,B=!isNaN(Date.parse("2011-01-01T12:00:00-05:00")),u.parseDate=function(t){return t=t.toString(),B||(t=W(t)),new Date(Date.parse(t))},j=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,W=function(t){var e,r,s,i,a,n,o,d,l,c;if(i=t.match(j))return[e,l,n,r,s,a,d,c]=i,c!=="Z"&&(o=c.replace(":","")),`${l}/${n}/${r} ${s}:${a}:${d} GMT${[o]}`},u.elementMatchesSelector=(y=document.documentElement,U=(Y=(Z=(J=(X=y.matches)!=null?X:y.matchesSelector)!=null?J:y.webkitMatchesSelector)!=null?Z:y.mozMatchesSelector)!=null?Y:y.msMatchesSelector,function(t,e){if((t!=null?t.nodeType:void 0)===Node.ELEMENT_NODE)return U.call(t,e)}),{config:D}=u,{i18n:z}=D,u.getI18nValue=function(t="",{locale:e}={locale:D.locale}){var r;return(r=G(z[e],t))!=null?r:e!==D.defaultLocale?u.getI18nValue(t,{locale:D.defaultLocale}):void 0},u.translate=function(t,e={},r){var s,i,a;for(s in a=u.getI18nValue(t,r),e)i=e[s],a=a.replace(`{${s}}`,i);return a},G=function(t,e){var r,s,i,a,n;for(n=t,r=0,i=(a=e.split(".")).length;r<i;r++){if(n[s=a[r]]==null)return null;n=n[s]}return n},{getI18nValue:A,translate:F}=u,P=typeof(typeof Intl<"u"&&Intl!==null?Intl.DateTimeFormat:void 0)=="function",C={"Central European Standard Time":"CET","Central European Summer Time":"CEST","China Standard Time":"CST","Israel Daylight Time":"IDT","Israel Standard Time":"IST","Moscow Standard Time":"MSK","Philippine Standard Time":"PHT","Singapore Standard Time":"SGT","Western Indonesia Time":"WIB"},u.knownEdgeCaseTimeZones=C,u.strftime=te=function(t,e){var r,s,i,a,n,o,d;return s=t.getDay(),r=t.getDate(),n=t.getMonth(),d=t.getFullYear(),i=t.getHours(),a=t.getMinutes(),o=t.getSeconds(),e.replace(/%(-?)([%aAbBcdeHIlmMpPSwyYZ])/g,function(l,c,g){switch(g){case"%":return"%";case"a":return A("date.abbrDayNames")[s];case"A":return A("date.dayNames")[s];case"b":return A("date.abbrMonthNames")[n];case"B":return A("date.monthNames")[n];case"c":return t.toString();case"d":return b(r,c);case"e":return r;case"H":return b(i,c);case"I":return b(te(t,"%l"),c);case"l":return i===0||i===12?12:(i+12)%12;case"m":return b(n+1,c);case"M":return b(a,c);case"p":return F("time."+(i>11?"pm":"am")).toUpperCase();case"P":return F("time."+(i>11?"pm":"am"));case"S":return b(o,c);case"w":return s;case"y":return b(d%100,c);case"Y":return d;case"Z":return Q(t)}})},b=function(t,e){return e==="-"?t:`0${t}`.slice(-2)},Q=function(t){var e,r,s;return(r=K(t))?C[r]:(s=L(t,{allowGMT:!1}))||(s=ee(t))?s:(e=L(t,{allowGMT:!0}))?e:""},K=function(t){return Object.keys(C).find(function(e){return P?new Date(t).toLocaleString("en-US",{timeZoneName:"long"}).includes(e):t.toString().includes(e)})},L=function(t,{allowGMT:e}){var r;if(P&&(r=new Date(t).toLocaleString("en-US",{timeZoneName:"short"}).split(" ").pop(),e||!r.includes("GMT")))return r},ee=function(t){var e,r,s,i,a;return(e=(r=(a=t.toString()).match(/\(([\w\s]+)\)$/))!=null?r[1]:void 0)?/\s/.test(e)?e.match(/\b(\w)/g).join(""):e:(e=(s=a.match(/(\w{3,4})\s\d{4}$/))!=null?s[1]:void 0)||(e=(i=a.match(/(UTC[\+\-]\d+)/))!=null?i[1]:void 0)?e:void 0},u.CalendarDate=class{static fromDate(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())}static today(){return this.fromDate(new Date)}constructor(t,e,r){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(r),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}equals(t){return(t!=null?t.value:void 0)===this.value}is(t){return this.equals(t)}isToday(){return this.is(this.constructor.today())}occursOnSameYearAs(t){return this.year===(t!=null?t.year:void 0)}occursThisYear(){return this.occursOnSameYearAs(this.constructor.today())}daysSince(t){if(t)return(this.date-t.date)/864e5}daysPassed(){return this.constructor.today().daysSince(this)}},{strftime:I,translate:m,getI18nValue:k,config:re}=u,u.RelativeTime=class{constructor(t){this.date=t,this.calendarDate=u.CalendarDate.fromDate(this.date)}toString(){var t,e;return(e=this.toTimeElapsedString())?m("time.elapsed",{time:e}):(t=this.toWeekdayString())?(e=this.toTimeString(),m("datetime.at",{date:t,time:e})):m("date.on",{date:this.toDateString()})}toTimeOrDateString(){return this.calendarDate.isToday()?this.toTimeString():this.toDateString()}toTimeElapsedString(){var t,e,r,s,i;return r=new Date().getTime()-this.date.getTime(),s=Math.round(r/1e3),e=Math.round(s/60),t=Math.round(e/60),r<0?null:s<10?(i=m("time.second"),m("time.singular",{time:i})):s<45?`${s} ${m("time.seconds")}`:s<90?(i=m("time.minute"),m("time.singular",{time:i})):e<45?`${e} ${m("time.minutes")}`:e<90?(i=m("time.hour"),m("time.singularAn",{time:i})):t<24?`${t} ${m("time.hours")}`:""}toWeekdayString(){switch(this.calendarDate.daysPassed()){case 0:return m("date.today");case 1:return m("date.yesterday");case-1:return m("date.tomorrow");case 2:case 3:case 4:case 5:case 6:return I(this.date,"%A");default:return""}}toDateString(){var t;return t=this.calendarDate.occursThisYear()?k("date.formats.thisYear"):k("date.formats.default"),I(this.date,t)}toTimeString(){var t;return t=re.useFormat24?"default_24h":"default",I(this.date,k(`time.formats.${t}`))}},{elementMatchesSelector:se}=u,u.PageObserver=class{constructor(t,e){this.processMutations=this.processMutations.bind(this),this.processInsertion=this.processInsertion.bind(this),this.selector=t,this.callback=e}start(){if(!this.started)return this.observeWithMutationObserver()||this.observeWithMutationEvent(),this.started=!0}observeWithMutationObserver(){if(typeof MutationObserver<"u"&&MutationObserver!==null)return new MutationObserver(this.processMutations).observe(document.documentElement,{childList:!0,subtree:!0}),!0}observeWithMutationEvent(){return addEventListener("DOMNodeInserted",this.processInsertion,!1),!0}findSignificantElements(t){var e;return e=[],(t!=null?t.nodeType:void 0)===Node.ELEMENT_NODE&&(se(t,this.selector)&&e.push(t),e.push(...t.querySelectorAll(this.selector))),e}processMutations(t){var e,r,s,i,a,n,o,d;for(e=[],r=0,i=t.length;r<i;r++)if((n=t[r]).type==="childList")for(s=0,a=(d=n.addedNodes).length;s<a;s++)o=d[s],e.push(...this.findSignificantElements(o));return this.notify(e)}processInsertion(t){var e;return e=this.findSignificantElements(t.target),this.notify(e)}notify(t){if(t!=null&&t.length)return typeof this.callback=="function"?this.callback(t):void 0}},{parseDate:ae,strftime:_,getI18nValue:ie,config:T}=u,u.Controller=(function(){var t,e,r,s;return t="time[data-local]:not([data-localized])",e=function(i){return i.setAttribute("data-localized","")},r=function(i){return i.setAttribute("data-processed-at",new Date().toISOString())},s=function(i){return new u.RelativeTime(i)},class{constructor(){this.processElements=this.processElements.bind(this),this.pageObserver=new u.PageObserver(t,this.processElements)}start(){if(!this.started)return this.processElements(),this.startTimer(),this.pageObserver.start(),this.started=!0}startTimer(){var i;if(i=T.timerInterval)return this.timer!=null?this.timer:this.timer=setInterval(this.processElements,i)}processElements(i=document.querySelectorAll(t)){var a,n,o;for(n=0,o=i.length;n<o;n++)a=i[n],this.processElement(a);return i.length}processElement(i){var a,n,o,d,l,c;if(a=i.getAttribute("datetime"),o=i.getAttribute("data-local"),n=T.useFormat24&&i.getAttribute("data-format24")||i.getAttribute("data-format"),d=ae(a),!isNaN(d))return i.hasAttribute("title")||(c=T.useFormat24?"default_24h":"default",l=_(d,ie(`datetime.formats.${c}`)),i.setAttribute("title",l)),r(i),i.textContent=function(){switch(o){case"time":return e(i),_(d,n);case"date":return e(i),s(d).toDateString();case"time-ago":return s(d).toString();case"time-or-date":return s(d).toTimeOrDateString();case"weekday":return s(d).toWeekdayString();case"weekday-or-date":return s(d).toWeekdayString()||s(d).toDateString()}}()}}}).call(window),O=!1,ne=function(){return document.attachEvent?document.readyState==="complete":document.readyState!=="loading"},oe=function(t){var e;return(e=typeof requestAnimationFrame=="function"?requestAnimationFrame(t):void 0)!=null?e:setTimeout(t,17)},V=function(){return u.getController().start()},u.start=function(){return O?u.run():(O=!0,typeof MutationObserver<"u"&&MutationObserver!==null||ne()?V():oe(V))},u.processing=function(){return u.getController().started},window.LocalTime===u&&u.start();const xe={init(){this.bindEvents()},bindEvents(){document.addEventListener("click",t=>{const e=t.target.closest("[data-resume-user-card] [data-bookmark]"),r=t.target.closest("[data-extra-skills-btn]");e&&this.bookmarkUser(e),r&&this.toggleExtraSkills(t),this.handleProfileRedirect(t)})},handleProfileRedirect(t){var i,a;const e=(i=t.target.closest("[data-profile-path]"))==null?void 0:i.getAttribute("data-profile-path"),r=(a=t.target.closest("[data-resume-user-card][data-id]"))==null?void 0:a.getAttribute("data-id"),s=!!t.target.closest("a, input, button, label, drb-tooltip");!e||!r||s||(S.trackSearchProfileClicked(r,t.target),w("ProfileClicked",{userID:r}),window.open(e,"_blank").focus())},toggleExtraSkills(t){const e=t.target.closest("[data-resume-user-card-footer]"),r=e==null?void 0:e.querySelectorAll("[data-skills-item]"),s=t.target.closest("[data-extra-skills-btn]"),i=s==null?void 0:s.querySelector("[data-extra-skills-text-count]"),a=s==null?void 0:s.querySelector("[data-skills-text-hide]");r.forEach(n=>{n.classList.toggle("display-flex")}),i==null||i.classList.toggle("display-none"),a==null||a.classList.toggle("display-none")},async bookmarkUser(t){var c,g,h;if(!(((h=(g=(c=window.Dribbble)==null?void 0:c.JsConfig)==null?void 0:g.user)==null?void 0:h.isLoggedIn)||!1))return;const r=t.closest("[data-resume-user-card]"),s=r==null?void 0:r.getAttribute("data-username"),i=r==null?void 0:r.getAttribute("data-display-name"),a=r==null?void 0:r.getAttribute("data-saved-search-id");if(!s)return;const n=!t.hasAttribute("data-bookmarked"),o=a?`/client_app/talent/saved_searches/${a}/bookmarks/${s}`:`/client_app/talent/bookmarks/${s}`,l={path:n?"/client_app/talent/bookmarks":o,method:n?"POST":"DELETE",body:JSON.stringify({userId:s})};try{t.classList.add("btn2--loading");const{path:v,method:E,body:Ce}=l;if(!(await fetch(v,{method:E,body:Ce,headers:{"Content-Type":"application/json","X-CSRF-Token":ve(),"X-Requested-With":"XMLHttpRequest"}})).ok)throw new Error("Something went wrong");t.toggleAttribute("data-bookmarked",n),t.classList.toggle("btn2--icon-expand-animation",n),n&&(ke.open({title:"Designer Saved",messageHtml:`<span>${i||s} was saved to your <a href="/designers/bookmarks">Saved Designers</a></span>`,iconHtml:Ie,variant:"success",duration:5e3}),S.trackSearchDesignerBookmarked(r.getAttribute("data-id"),r))}catch{Dribbble.EventBus.$emit("siteNotifications:add",{title:"Error updating bookmark",id:"update-bookmark"})}finally{t.classList.remove("btn2--loading")}}};xe.init();document.addEventListener("submit",t=>{if(t.target.closest("form[data-on-submit-update-dom]")){const e=t.target,r=document.querySelector(e.dataset.onSubmitUpdateDom);if(r){t.preventDefault();const s=new FormData(e);fetch(e.action,{method:s.get("_method")||e.method,body:s,headers:{"X-Requested-With":"XMLHttpRequest"}}).then(i=>i.text()).then(i=>{r.outerHTML=i}).catch(i=>{var a;return(a=Dribbble==null?void 0:Dribbble.Notify)==null?void 0:a.error(i)})}}});const je=`<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path data-rotate="true"
    d="M26.3879 15.4262C27.91 11.2234 33.313 10.0749 36.413 13.2953L36.5991 13.4886C38.3908 15.3498 41.1684 15.8646 43.5081 14.7691L43.751 14.6553C47.7993 12.7598 52.4318 15.7682 52.3467 20.2374L52.3416 20.5056C52.2924 23.0887 53.8924 25.4167 56.3216 26.2965L56.5738 26.3879C60.7766 27.91 61.9251 33.313 58.7047 36.413L58.5114 36.5991C56.6502 38.3908 56.1354 41.1684 57.2309 43.5081L57.3447 43.751C59.2402 47.7993 56.2318 52.4318 51.7626 52.3467L51.4944 52.3416C48.9113 52.2924 46.5833 53.8924 45.7035 56.3216L45.6121 56.5738C44.09 60.7766 38.687 61.9251 35.587 58.7047L35.401 58.5114C33.6092 56.6502 30.8316 56.1354 28.4919 57.2309L28.249 57.3447C24.2007 59.2402 19.5682 56.2318 19.6533 51.7626L19.6584 51.4944C19.7076 48.9113 18.1076 46.5833 15.6784 45.7035L15.4262 45.6121C11.2234 44.09 10.075 38.687 13.2953 35.587L13.4886 35.4009C15.3499 33.6092 15.8646 30.8316 14.7691 28.4919L14.6553 28.249C12.7598 24.2007 15.7682 19.5682 20.2374 19.6533L20.5056 19.6584C23.0887 19.7076 25.4167 18.1076 26.2965 15.6784L26.3879 15.4262Z"
    fill="#ea4c89" />
  <path
    d="M44.9415 35.2704C44.9415 39.9345 41.1605 43.7154 36.4964 43.7154C35.4266 43.7154 34.4033 43.5165 33.4614 43.1536C33.2891 43.0873 33.203 43.0541 33.1346 43.0383C33.0672 43.0228 33.0185 43.0163 32.9494 43.0137C32.8792 43.011 32.8021 43.019 32.6481 43.0349L27.5602 43.5608C27.0751 43.611 26.8325 43.636 26.6895 43.5488C26.5648 43.4727 26.48 43.3458 26.4574 43.2016C26.4314 43.036 26.5473 42.8215 26.7791 42.3924L28.4042 39.3844C28.538 39.1367 28.605 39.0129 28.6353 38.8938C28.6652 38.7762 28.6724 38.6913 28.6629 38.5704C28.6532 38.4478 28.5994 38.2884 28.4919 37.9695C28.2063 37.1219 28.0514 36.2143 28.0514 35.2704C28.0514 30.6063 31.8324 26.8254 36.4964 26.8254C41.1605 26.8254 44.9415 30.6063 44.9415 35.2704Z"
    stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
</svg>`;class We{constructor(e,r){this.messageDialog=e,this.projectDetailsAiInstance=this.initProjectDetailsAiInput(),this.messageDialogHelper=r,!(!this.messageDialog||!this.projectDetailsAiInstance||!this.messageDialogHelper)&&(this.initHelpMeStartForm(),this.bindImproveWhatIWrote(),this.bindRevertButton())}initProjectDetailsAiInput(){var i;const e=this.messageDialog.querySelector("[data-project-details-input]"),r=e==null?void 0:e.closest("[data-write-with-ai-wrapper]"),s=(i=r==null?void 0:r.querySelector("turbo-cable-stream-source"))==null?void 0:i.getAttribute("data-request-id");return!e||!s?(console.error("Missing required parameters: projectDetailsInput or requestId"),null):new we({contextElement:r,input:e,requestId:s,onError:(a,{action:n})=>{console.error("AI generation error:",a),n==="build_project_request"&&this.showHelpMeStartPanel(!0),q.open({title:"Something went wrong. Please try again.",iconHtml:H,centered:!0,cancelText:"",confirmText:"Close"})}})}initHelpMeStartForm(){var i;const e=this.messageDialog.querySelector("form[data-help-me-start-request-form]");if(!e)return;const r=new De(e,{onBeforeSubmit:a=>{const n=e.getAttribute("data-help-me-start-request-path");return this.showHelpMeStartPanel(!1),this.projectDetailsAiInstance.generateContent("build_project_request",n,{notes:"",...a}),!1},arrayFields:["styles"]}),s=e.querySelector("[data-styles-select]");(i=r.pristineValidation)==null||i.addValidator(s,a=>a.length>0&&a.length<=3,"Please select between 1 and 3 categories")}bindImproveWhatIWrote(){const e=this.projectDetailsAiInstance.contextElement.querySelector('[data-ai-action="improve"]');e==null||e.addEventListener("click",r=>{var o;const s=r.target.closest("form");if(!((o=s==null?void 0:s.pristineValidation)!=null&&o.validate(this.projectDetailsAiInstance.input)))return;const i=s.getAttribute("data-ai-request-path"),a=s.getAttribute("data-designer-name"),n={input_text:this.projectDetailsAiInstance.input.value,designer_name:a};this.projectDetailsAiInstance.generateContent("improve_project_request",i,n)})}bindRevertButton(){const e=this.messageDialog.querySelector("[data-ai-input-revert-button]");e==null||e.addEventListener("click",()=>this.projectDetailsAiInstance.revertContent())}showHelpMeStartPanel(e){this.messageDialogHelper.setActiveTab(e?"help-me-start":"message")}}const Be={init(){this.bindListeners(),this.openAndRestoreDraft()},getClosestMessageDialog(t){return t.closest("drb-dialog#message-dialog")},bindListeners(){this.bindMessageInputSync(),this.bindTabNavigation(),this.bindFormValidation(),this.bindAuthFlow(),this.bindTrackingListeners(),this.initAiInputs()},initAiInputs(){document.addEventListener("drb-dialog-content-updated",t=>{const e=t.target.closest("drb-dialog#message-dialog");e&&new We(e,this)})},bindTabNavigation(){document.addEventListener("click",t=>{var r;const e=(r=t.target.closest("[data-message-dialog-tab]"))==null?void 0:r.getAttribute("data-message-dialog-tab");e&&this.setActiveTab(e)})},setActiveTab(t){var e;document.querySelectorAll("drb-dialog#message-dialog [data-message-dialog-tab]").forEach(r=>{r.classList.toggle("active",t===r.getAttribute("data-message-dialog-tab"))}),(e=document.querySelector("drb-dialog#message-dialog [data-active-tab]"))==null||e.setAttribute("data-active-tab",t)},bindMessageInputSync(){document.addEventListener("input",t=>{const e=this.getClosestMessageDialog(t.target);if(!e)return;const r=e.querySelectorAll("#message-dialog-message, #message-dialog-details");if(!Array.from(r).includes(t.target))return;r.forEach(i=>{i.value=t.target.value});const s=e.querySelector("[data-message-auth-preview]");s&&(s.textContent=t.target.value.slice(0,150))})},bindFormValidation(){document.addEventListener("drb-dialog-content-updated",t=>{const e=this.getClosestMessageDialog(t.target);e&&(e.querySelectorAll("[data-message-dialog-form]").forEach(r=>{r.pristineValidation=M(r),this.bindBudgetFieldLogic(r),ye(r)}),this.clearDraft())}),document.addEventListener("submit",t=>{var s,i,a,n;const e=t.target.closest("[data-message-dialog-form]"),r=(a=(i=(s=window.Dribbble)==null?void 0:s.JsConfig)==null?void 0:i.user)==null?void 0:a.isLoggedIn;if(e)if(t.preventDefault(),!e.hasAttribute("is-submitting")&&((n=e.pristineValidation)!=null&&n.validate()))Le("loggedOutMessageFlow")&&!r?(this.saveDraft(),this.setActiveTab("auth")):this.submitForm(e);else{this.clearDraftSendingMessageState();const o=e==null?void 0:e.querySelector(".has-validation-error");o==null||o.scrollIntoView({behavior:"smooth",block:"nearest"})}})},bindBudgetFieldLogic(t){var i,a;const e=t.querySelector("[data-project-budget]"),r=t.querySelector("[data-project-budget-unsure]");if(!e||!r)return;e.addEventListener("input",()=>{e.value=$(e.value,{maximumFractionDigits:0})}),e.value&&(e.value=$(e.value,{maximumFractionDigits:0}));const s=Number(e.getAttribute("data-project-budget-min-cost"));(i=t.pristineValidation)==null||i.addValidator(e,n=>r.checked?!0:(x(n)||0)>=s,`Budget must be at least $${s}`,1,!0),(a=t.pristineValidation)==null||a.addValidator(e,n=>r.checked?!0:!!(n!=null&&n.length),"Please enter your budget.",2,!0),r.addEventListener("change",()=>{var n;e.toggleAttribute("disabled",r.checked),e.value="",r.checked&&((n=t.pristineValidation)==null||n.validate(e)),e.pristine&&(e.pristine.hasValidated=!1)})},bindTrackingListeners(){document.addEventListener("drb-dialog-content-updated",t=>{var i;const e=this.getClosestMessageDialog(t.target);if(!e)return;const r=e.querySelector("[data-message-dialog-form]"),s=(i=r==null?void 0:r.querySelector("input[name='engagement[recipient_id]']"))==null?void 0:i.value;s&&(S.trackSearchMessageModalDisplayed(s,e),w("MessageModalDisplayed",{userId:s}))})},bindAuthFlow(){document.addEventListener("drb-dialog-content-updated",t=>{const e=this.getClosestMessageDialog(t.target);if(!e)return;e.querySelectorAll("[data-message-auth-container] [data-screen]").forEach(s=>Se.initScreen(s))}),document.addEventListener("auth-screen-injected",t=>{const e=this.getClosestMessageDialog(t.target),r=t.target,s=r==null?void 0:r.getAttribute("data-screen"),i=r==null?void 0:r.querySelector("form[data-auth-form]"),a=i==null?void 0:i.querySelector("[data-skip-profile-button]"),n=i==null?void 0:i.querySelector("[data-submit]");if(!e||s!=="auth-profile"||!i)return;const o=document.createElement("input");o.type="hidden",o.name="end_of_flow",o.value="true";const d=document.createElement("input");d.type="hidden",d.name="intentions",d.value="hire",i.appendChild(o),i.appendChild(d),a&&(a.addEventListener("click",l=>{l.preventDefault(),i.requestSubmit()}),a.removeAttribute("data-screen-transition"),a.textContent="Skip and Send Message"),n&&(n.textContent="Send Message")})},async submitForm(t){var o,d;const e="Failed to send message",r=t.querySelector("[data-message-dialog-submit]"),s=t.querySelector("[data-form-error]"),i=t.hasAttribute("data-reload-on-success"),a=l=>{t.toggleAttribute("is-submitting",l),r.disabled=l,r.classList.toggle("btn2--loading",l)},n=l=>{s&&(s.toggleAttribute("hidden",!l),s.innerText=l)};a(!0),n(null);try{const l=await fetch(t.getAttribute("action"),{method:"POST",body:this.getTransformedFormData(t),headers:{"X-Requested-With":"XMLHttpRequest"}}),c=await l.text();if(!l.ok){const E=l.status===422?c:e;throw new Error(E||e)}const g=(o=t.querySelector("[data-recipient-id-input]"))==null?void 0:o.value;g&&S.trackSearchUserMessaged(g);const h=t.closest("drb-dialog"),v=((d=h.querySelector("[data-message-id]"))==null?void 0:d.getAttribute("data-message-id"))||null;if(w("UserMessaged",{recipientId:g,messageID:v}),i){window.location.reload();return}c!=null&&c.includes("data-suggested-designers")?this.showSuggestedDesigners(h,c):h==null||h.setContent(c)}catch(l){const c=l instanceof Error?l.message:e;n(c),console.error(c,l)}finally{this.clearDraftSendingMessageState(),i||a(!1)}},getTransformedFormData(t){const e=new FormData(t);switch(e.has("budget_dollars")&&e.set("budget_dollars",x(e.get("budget_dollars"))),t.getAttribute("data-message-dialog-form")){case"workRequest":e.set("engagement[budget_cents]",parseInt(e.get("budget_dollars")||0,10)*100),e.delete("budget_dollars");break}return e},showSuggestedDesigners(t,e){const r=t==null?void 0:t.querySelector("[data-message-success-container]"),s=t==null?void 0:t.querySelector("[data-message-dialog-form-content]");!s||!r||(r.innerHTML=e,r.toggleAttribute("hidden",!1),N(s),s.setAttribute("inert",""),this.bindToggleFormBtn(t),this.bindViewSentMessageBtn(t),this.rebindFormValidation(t),this.bindSendBulkRequest(t),this.bindMoreDesignersToggle(t))},bindMoreDesignersToggle(t){const e=t==null?void 0:t.querySelector("[data-more-designers-toggle]"),r=t==null?void 0:t.querySelector("[data-more-suggested-designers-list]");!e||!r||e==null||e.addEventListener("click",()=>{const s=e.querySelector('input[type="checkbox"]');r.querySelectorAll("[data-suggested-designer]").forEach(i=>{i.checked=s.checked})})},bindToggleFormBtn(t){const e=t==null?void 0:t.querySelector("[data-toggle-form-btn]"),r=t==null?void 0:t.querySelector("[data-message-dialog-form-content]");!t||!e||!r||e.addEventListener("click",()=>{r.hasAttribute("data-collapsed")?(Ee(r),e.textContent="Hide Message",r.removeAttribute("inert")):(N(r),e.textContent="Edit Message",r.setAttribute("inert",""))})},bindViewSentMessageBtn(t){var s;const e=t==null?void 0:t.querySelector("[data-view-sent-message-btn]"),r=((s=t==null?void 0:t.querySelector("[data-thread-path]"))==null?void 0:s.getAttribute("data-thread-path"))||"";!e||!r||e.addEventListener("click",()=>{window.location=r})},bindSendBulkRequest(t){const e=t.querySelector('[data-message-dialog-form="workRequest"]'),r=t==null?void 0:t.querySelector("[data-send-bulk-request]");!r||!t||!e||r.addEventListener("click",()=>{var s;!e.hasAttribute("is-submitting")&&((s=e.pristineValidation)!=null&&s.validate())&&this.sendBulkRequest(t)})},async sendBulkRequest(t){var d;const e=t.querySelector('[data-message-dialog-form="workRequest"]'),r=t.querySelector("[data-send-bulk-request]"),s=r==null?void 0:r.getAttribute("data-send-bulk-request");if(!e||!r||!s)return;const i=Array.from(e.querySelectorAll("[data-suggested-designer]:checked")).map(l=>l.value),a=this.getTransformedFormData(e),n=((d=t.querySelector("[data-message-id]"))==null?void 0:d.getAttribute("data-message-id"))||null;a.delete("engagement[recipient_id]"),i.forEach(l=>{a.append("engagement[recipient_id][]",l)}),a.set("engagement[message_id]",n);const o=l=>{e.toggleAttribute("is-submitting",l),r.disabled=l,r.classList.toggle("btn2--loading",l)};try{if(o(!0),!(await fetch(s,{method:"POST",body:a,headers:{"X-Requested-With":"XMLHttpRequest"}})).ok)throw new Error("Something went wrong. Please try again later.");t.close(),i.forEach(c=>{S.trackSearchUserMessaged(c),w("UserMessaged",{recipientId:c,parentMessageID:n})}),q.open({title:"Your messages have been sent!",iconHtml:Ae,centered:!0,cancelText:"Close",confirmText:""})}catch(l){o(!1),q.open({title:l,iconHtml:H,centered:!0,cancelText:"",confirmText:"Close"})}},rebindFormValidation(t){const e=t.querySelector('[data-message-dialog-form="workRequest"]');e&&(e.pristineValidation&&e.pristineValidation.destroy(),e.pristineValidation=M(e))},open(t,e={}){return t?Pe.openRemote({url:`/messages/new?recipient_id=${t}`,dialogId:"message-dialog",nonModalMode:!0,...e}):null},saveDraft(){var a,n;const t=document.querySelector("drb-dialog#message-dialog"),e=!!((a=t==null?void 0:t.querySelector("[data-message-dialog-toggle]"))!=null&&a.checked),r=(n=t==null?void 0:t.querySelector("[data-recipient-id-input]"))==null?void 0:n.value;if(!t||!r)return;const s=["message[body]","engagement[project_details]","engagement[target_date]","budget_dollars"],i={isWorkRequest:e,recipientId:r,fields:{}};s.forEach(o=>{const d=t.querySelector(`form[data-message-dialog-form] [name="${o}"]`);d&&(i.fields[o]=d.value)}),localStorage.setItem("messageDraft",JSON.stringify(i))},openAndRestoreDraft(){var e,r,s;if((s=(r=(e=window.Dribbble)==null?void 0:e.JsConfig)==null?void 0:r.user)!=null&&s.isLoggedIn)try{const i=JSON.parse(localStorage.getItem("messageDraft"));if(!i)return;const{isWorkRequest:a,recipientId:n,fields:o}=i,d=`
        <div class="message-dialog-sending">
          ${je}
          <h3 class="type-title-s">Sending message...</h3>
        </div>
      `,l=this.open(n,{remoteLoadingSlotHtml:d,remoteInitialHeight:"fit-content",shouldResetIsFetching:!1});if(!l)return;l.addEventListener("drb-dialog-content-updated",()=>{setTimeout(()=>{const c=l.querySelector("[data-message-dialog-toggle]");c&&(c.checked=a),Object.entries(o).forEach(([g,h])=>{const v=l.querySelector(`form[data-message-dialog-form] [name="${g}"]`);v&&(v.value=h)}),setTimeout(()=>{const g=l.querySelector(`[data-message-dialog-form="${a?"workRequest":"message"}"]`);g==null||g.requestSubmit()},0)},0)},{once:!0})}catch(i){console.error("Failed to restore message draft:",i)}},clearDraftSendingMessageState(){const t=document.querySelector("drb-dialog#message-dialog");t&&(t.isFetchingRemote=!1)},clearDraft(){localStorage.removeItem("messageDraft")}};function p(t){var e;return((e=t==null?void 0:t.data)==null?void 0:e.type)==="drb-video"}class Ue{constructor(e,r){this.options=r,this.initLightboxEvents(e),e.on("init",()=>{this.initPswpEvents(e.pswp)})}initLightboxEvents(e){e.on("contentLoad",this.onContentLoad.bind(this)),e.on("contentDestroy",this.onContentDestroy.bind(this)),e.on("contentActivate",this.onContentActivate.bind(this)),e.on("contentDeactivate",this.onContentDeactivate.bind(this)),e.on("contentAppend",this.onContentAppend.bind(this)),e.on("contentResize",this.onContentResize.bind(this)),e.addFilter("isKeepingPlaceholder",this.isKeepingPlaceholder.bind(this)),e.addFilter("isContentZoomable",this.isContentZoomable.bind(this)),e.addFilter("useContentPlaceholder",this.useContentPlaceholder.bind(this)),e.addFilter("domItemData",(r,s,i)=>(r.type==="video"&&i&&(i.dataset.pswpVideoSources?r.videoSources=JSON.parse(i.dataset.pswpVideoSources):i.dataset.pswpVideoSrc?r.videoSrc=i.dataset.pswpVideoSrc:r.videoSrc=i.href),r))}initPswpEvents(e){e.on("pointerDown",r=>{const s=e.currSlide;if(p(s)&&this.options.preventDragOffset){const i=r.originalEvent;if(i.type==="pointerdown"){const n=Math.ceil(s.height*s.currZoomLevel)+s.bounds.center.y,o=i.pageY-e.offset.y;o>n-this.options.preventDragOffset&&o<n&&r.preventDefault()}}}),e.on("appendHeavy",r=>{p(r.slide)&&!r.slide.isActive&&r.preventDefault()}),e.on("close",()=>{p(e.currSlide.content)&&((!e.options.showHideAnimationType||e.options.showHideAnimationType==="zoom")&&(e.options.showHideAnimationType="fade"),this.pauseVideo(e.currSlide.content))})}onContentDestroy({content:e}){p(e)&&e._videoPosterImg&&(e._videoPosterImg.onload=null,e._videoPosterImg.onerror=null,e._videoPosterImg=null)}onContentResize(e){if(p(e.content)){e.preventDefault();const{width:r,height:s,content:i}=e;if(i.element&&(i.element.style.width=`${r}px`,i.element.style.height=`${s}px`),i.slide&&i.slide.placeholder){const a=i.slide.placeholder.element.style;a.transform="none",a.width=`${r}px`,a.height=`${s}px`,a.borderRadius="8px"}}}isKeepingPlaceholder(e,r){return p(r)?!1:e}isContentZoomable(e,r){return p(r)?!1:e}onContentActivate({content:e}){p(e)&&this.options.autoplay&&this.playVideo(e)}onContentDeactivate({content:e}){p(e)&&this.pauseVideo(e)}onContentAppend(e){p(e.content)&&(e.preventDefault(),e.content.isAttached=!0,e.content.appendImage())}onContentLoad(e){const{content:r}=e;if(p(e.content)&&(e.preventDefault(),!r.element)){if(r.state="loading",r.type="drb-video",r.element=document.createElement("drb-video"),r.videoElement=document.createElement("video"),r.element.appendChild(r.videoElement),this.options.videoAttributes)for(const s in this.options.videoAttributes)r.videoElement.setAttribute(s,this.options.videoAttributes[s]||"");r.videoElement.setAttribute("poster",r.data.msrc),this.preloadVideoPoster(r,r.data.msrc),r.element.style.position="absolute",r.element.style.left=0,r.element.style.top=0,r.data.videoSources?r.data.videoSources.forEach(s=>{const i=document.createElement("source");i.src=s.src,i.type=s.type,r.videoElement.appendChild(i)}):r.data.videoSrc&&(r.videoElement.src=r.data.videoSrc)}}preloadVideoPoster(e,r){if(!e._videoPosterImg&&r)if(e._videoPosterImg=new Image,e._videoPosterImg.src=r,e._videoPosterImg.complete)e.onLoaded();else{const s=()=>{e.onLoaded()};e._videoPosterImg.onload=s,e._videoPosterImg.onerror=s}}playVideo(e){setTimeout(()=>{var r;(r=e.videoElement)==null||r.play()},0)}pauseVideo(e){var r;(r=e.videoElement)==null||r.pause()}useContentPlaceholder(e,r){return p(r)?!0:e}}const Ye={videoAttributes:{playsinline:"",preload:"auto",loop:""},autoplay:!0,preventDragOffset:80};class Ze{constructor(e,r){new Ue(e,{...Ye,...r})}}const Je={init(){document.addEventListener("drb-dialog-content-updated",e=>{const r=e.target.closest("drb-dialog#service-view-dialog");r&&setTimeout(()=>{this.setupServiceView(r)},0)}),document.addEventListener("drb-dialog-closed",e=>{const r=e.target.closest("drb-dialog#service-view-dialog");r&&r.querySelectorAll("video").forEach(s=>{s.pause()})});const t=document.querySelector("[data-service-view-page]");t&&this.setupServiceView(t),He.init()},setupServiceView(t){this.initFlickity(t),this.bindThumbnails(t),this.initLightbox(t),this.bindCTAButtons(t),this.bindSelectPaymentMethod(t),this.bindDialogValidation(t)},playPauseCarouselVideos(t){var s,i,a,n;const e=(i=(s=t.flkty)==null?void 0:s.selectedElement)==null?void 0:i.querySelector("video"),r=(n=(a=t.lightbox)==null?void 0:a.pswp)==null?void 0:n.isOpen;t.querySelectorAll("video").forEach(o=>{o===e&&!r?o.play():o.pause()})},initFlickity(t){const e=t.querySelector("[data-service-view-carousel]");if(!e)return;const r=t.querySelectorAll("[data-service-view-gallery-thumbnail]").length>1,s=matchMedia("(hover: none)").matches;t.flkty&&t.flkty.destroy(),t.flkty=new Oe(e,{wrapAround:!0,contain:!0,prevNextButtons:r,pageDots:!1,draggable:r&&s}),t.flkty.on("change",i=>{t.querySelectorAll("[data-service-view-gallery-button]").forEach((a,n)=>{a.toggleAttribute("data-current",i===n)}),this.playPauseCarouselVideos(t)}),t.flkty.on("staticClick",(i,a,n,o)=>{var d;i.target.tagName!=="DRB-VIDEO"&&((d=t.lightbox)==null||d.loadAndOpen(o))}),setTimeout(()=>{e.toggleAttribute("data-carousel-initialized",!0)},0)},bindThumbnails(t){t.querySelectorAll("[data-service-view-gallery-button]").forEach((e,r)=>{e.addEventListener("click",()=>{var s;(s=t.flkty)==null||s.selectCell(r)})})},initLightbox(t){t.lightbox&&t.lightbox.destroy();const e=t.querySelector('[slot="dialog-outer"]')||document.body;t.lightbox=new Fe({secondaryZoomLevel:"fill",doubleTapAction:!1,arrowPrev:!1,arrowNext:!1,appendToEl:e,dataSource:[],..._e,pswpModule:()=>Ve(()=>import("./photoswipe.esm-3ee328cd.js"),[])}),t.lightbox.addFilter("thumbEl",(r,s,i)=>t.querySelectorAll("[data-lightbox-trigger]")[i]||r),t.lightbox.on("change",()=>{var s;const{currIndex:r}=t.lightbox.pswp;(s=t.flkty)==null||s.selectCell(r)}),t.lightbox.on("openingAnimationStart",()=>{this.playPauseCarouselVideos(t)}),t.lightbox.on("destroy",()=>{setTimeout(()=>{this.playPauseCarouselVideos(t)},0)}),new Ze(t.lightbox),t.lightbox.init(),t.querySelectorAll("[data-lightbox-trigger]").forEach(r=>{var i,a;const s=this.getPhotoswipeData(r);s&&((a=(i=t.lightbox.options)==null?void 0:i.dataSource)==null||a.push(s))})},getPhotoswipeData(t){const e=parseInt(t.getAttribute("data-media-width")||400,10),r=parseInt(t.getAttribute("data-media-height")||300,10),s=t.getAttribute("data-media-type"),i=t.getAttribute("data-lightbox-url"),a=t.getAttribute("data-preview-url"),n=t.getAttribute("data-file-name"),o=!!a&&!!i&&!!r&&!!e,d=n.endsWith(".gif");if(!o)return null;if(s==="video")return{videoSrc:i,type:"drb-video",msrc:a,width:e,height:r,thumbCropped:!0};const l=[e,640,850,1024,1600,1905,2400,3810].filter(g=>g<=e);return{srcset:d?null:Re({mediaUrl:i,aspectRatio:e/r,widths:l}),src:i,msrc:a,width:e,height:r,thumbCropped:!0}},bindCTAButtons(t){const e=t==null?void 0:t.querySelectorAll("[data-service-view-toggle-panel]"),r=t==null?void 0:t.querySelectorAll("[data-service-view-panel]");e.forEach(s=>{s.addEventListener("click",()=>{r.forEach(i=>{i.toggleAttribute("hidden")})})})},bindSelectPaymentMethod(t){const e=t==null?void 0:t.querySelector("[data-project-breakdown-payment-method-select]");e==null||e.addEventListener("change",()=>{this.updateSelectedPaymentMethod(t,e.value)})},updateSelectedPaymentMethod(t,e){const r=t==null?void 0:t.querySelector("[data-project-breakdown-filter-payment-method]");this.updateCheckoutUrl(t,e),r==null||r.setAttribute("data-project-breakdown-filter-payment-method",e)},updateCheckoutUrl(t,e){const r=t.querySelector("[data-checkout-button]");if(!r)return;const s=r.getAttribute("href")||"",i=new URL(s,window.location.origin);i.searchParams.set("payment_method_type",e),r.setAttribute("href",i.toString())},bindDialogValidation(t){const e=t.querySelector("[data-checkout-button]");t.pristineValidation=M(t),e==null||e.addEventListener("click",r=>{t.pristineValidation.validate()||r.preventDefault()})}};class Xe{constructor(e){this.dialog=e,this.serviceDetailsAiInstance=this.initServiceDetailsAiInput(),!(!this.dialog||!this.serviceDetailsAiInstance)&&(this.initHelpMeStartForm(),this.bindImproveWhatIWroteAction(),this.bindHelpMeStartAction(),this.bindRevertButton())}initServiceDetailsAiInput(){var i;const e=this.dialog.querySelector("[data-service-request-input]"),r=e==null?void 0:e.closest("[data-write-with-ai-wrapper]"),s=(i=r==null?void 0:r.querySelector("turbo-cable-stream-source"))==null?void 0:i.getAttribute("data-request-id");return!e||!s?(console.error("Missing required parameters: serviceDetailsInput or requestId"),null):new we({contextElement:r,input:e,requestId:s,onError:(a,{action:n})=>{console.error("AI generation error:",a),n==="build_service_request"&&this.showHelpMeStartPanel(!0),q.open({title:"Something went wrong. Please try again.",iconHtml:H,centered:!0,cancelText:"",confirmText:"Close"})}})}initHelpMeStartForm(){var i;const e=this.dialog.querySelector("form[data-help-me-start-request-form]");if(!e)return;const r=new De(e,{onBeforeSubmit:a=>{const n=e.getAttribute("data-help-me-start-request-path");return this.showHelpMeStartPanel(!1),this.serviceDetailsAiInstance.generateContent("build_service_request",n,{notes:"",...a}),!1},arrayFields:["styles"]}),s=e.querySelector("[data-styles-select]");(i=r.pristineValidation)==null||i.addValidator(s,a=>a.length>0&&a.length<=3,"Please select between 1 and 3 categories")}bindImproveWhatIWroteAction(){const e=this.serviceDetailsAiInstance.contextElement.querySelector('[data-ai-action="improve"]');e==null||e.addEventListener("click",r=>{var l,c,g;const s=r.target.closest("form");if(!((l=s==null?void 0:s.pristineValidation)!=null&&l.validate(this.serviceDetailsAiInstance.input)))return;const i=s.getAttribute("data-ai-request-path"),a=s.getAttribute("data-designer-name"),n=(c=this.dialog.querySelector("#service-title"))==null?void 0:c.value,o=(g=this.dialog.querySelector("#service-description"))==null?void 0:g.value,d={input_text:this.serviceDetailsAiInstance.input.value,designer_name:a,service_title:n,service_description:o};this.serviceDetailsAiInstance.generateContent("improve_service_request",i,d)})}bindRevertButton(){const e=this.serviceDetailsAiInstance.contextElement.querySelector("[data-ai-input-revert-button]");e==null||e.addEventListener("click",()=>this.serviceDetailsAiInstance.revertContent())}showHelpMeStartPanel(e){var i,a;const r=(i=this.dialog)==null?void 0:i.querySelector('[data-screen="service"]'),s=(a=this.dialog)==null?void 0:a.querySelector('[data-screen="help-me-start"]');qe.transitionToScreen({targetScreen:e?s:r,type:e?"slide-left":"slide-right"})}bindHelpMeStartAction(){const e=this.serviceDetailsAiInstance.contextElement.querySelector('[data-ai-action="help_me_start"]');e==null||e.addEventListener("click",()=>this.showHelpMeStartPanel(!0))}}const Ge={init(){this.bindListeners()},bindListeners(){document.addEventListener("drb-dialog-content-updated",t=>{const e=t.target.closest("drb-dialog#service-request-dialog");e&&(this.initServiceRequestForm(e),new Xe(e))})},initServiceRequestForm(t){const e=t.querySelector("[data-service-request-form]"),r=e==null?void 0:e.getAttribute("data-recipient-id");!e||!r||(S.trackSearchMessageModalDisplayed(r,t),w("MessageModalDisplayed",{recipientId:r}),this.bindFormValidation(e))},bindFormValidation(t){t.pristineValidation=M(t),ye(t),t.addEventListener("submit",e=>{e.preventDefault(),this.submitForm(t)})},async submitForm(t){var n;if(t.hasAttribute("is-submitting")||!((n=t.pristineValidation)!=null&&n.validate()))return;const e="Failed to send message",r=t.querySelector("[data-service-request-submit]"),s=t.querySelector("[data-form-error]"),i=o=>{t.toggleAttribute("is-submitting",o),r.disabled=o,r.classList.toggle("btn2--loading",o)},a=o=>{s&&(s.toggleAttribute("hidden",!o),s.innerText=o)};i(!0),a(null);try{const o=await fetch(t.getAttribute("action"),{method:"POST",body:new FormData(t),headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":ve()}});if(!o.ok){const g=await o.text(),h=o.status===422?g:e;throw new Error(h||e)}const d=await o.json(),l=d.message_id||null,c=t.getAttribute("data-recipient-id");c&&S.trackSearchUserMessaged(c),w("UserMessaged",{messageID:l,recipientId:c}),t.closest("drb-dialog").close(),q.open({title:"Your request was sent!",message:"",iconHtml:Ae,centered:!0,cancelText:"",confirmText:"View Request",confirmHref:d.redirect_url,confirmClass:"btn2--primary btn2--full-width"})}catch(o){const d=o instanceof Error?o.message:e;a(d),console.error(d,o),i(!1)}}};$e.forms.mode="off";f.drive=!1;var de;(de=f.pageObserver)==null||de.stop();var le;(le=f.cacheObserver)==null||le.stop();var ce;(ce=f.linkPrefetchObserver)==null||ce.stop();var ue;(ue=f.formLinkClickObserver)==null||ue.stop();var ge;(ge=f.linkClickObserver)==null||ge.stop();var me;(me=f.formSubmitObserver)==null||me.stop();var he;(he=f.scrollObserver)==null||he.stop();var pe;(pe=f.frameRedirector)==null||pe.stop();var fe;(fe=f.history)==null||fe.stop();var be;(be=f.preloader)==null||be.stop();f.started=!1;Me.init();Se.init();qe.init();Ne.init();Je.init();Ge.init();Be.init();Te.init();u.start();
//# sourceMappingURL=application-90072814.js.map
