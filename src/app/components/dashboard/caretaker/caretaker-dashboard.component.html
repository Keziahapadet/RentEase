<div class="dashboard-container">
  <aside class="sidebar" [class.open]="isSidebarOpen" [class.mobile-open]="isMobileMenuOpen">
    <div class="sidebar-header">
      <div class="logo">
        <img src="/images/logo.png" alt="RentEase Logo" class="logo-image">
      </div>
      <button mat-icon-button (click)="toggleSidebar()" class="toggle-btn">
        <mat-icon>{{ isSidebarOpen ? 'chevron_left' : 'menu' }}</mat-icon>
      </button>
    </div>

    <div class="sidebar-profile">
      <app-profile-picture 
        [size]="'medium'" 
        [editable]="false"
        [showName]="isSidebarOpen"
        [showRole]="false"
        [routerLink]="['/caretaker-dashboard/profile']">
      </app-profile-picture>
    </div>

    <div class="sidebar-role" *ngIf="isSidebarOpen">
      <mat-chip class="user-role-chip" [style.background]="getRoleColor()">
        <mat-icon class="chip-icon">verified</mat-icon>
        {{ getRoleDisplay() }}
      </mat-chip>
    </div>

    <nav class="sidebar-nav">
      <a 
        *ngFor="let item of navItems" 
        mat-button 
        [routerLink]="item.route"
        routerLinkActive="active"
        class="nav-item">
        <mat-icon class="nav-icon">{{ item.icon }}</mat-icon>
        <span class="nav-label">{{ item.label }}</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <button mat-button (click)="logout()" class="logout-btn">
        <mat-icon>logout</mat-icon>
        <span>Logout</span>
      </button>
    </div>
  </aside>

  <div class="mobile-overlay" *ngIf="isMobileMenuOpen" (click)="closeMobileMenu()"></div>

  <main class="main-content" [class.sidebar-collapsed]="!isSidebarOpen && !isMobile">
    <header class="dashboard-header">
      <div class="header-left">
        <button mat-icon-button (click)="toggleSidebar()" class="menu-toggle">
          <mat-icon>menu</mat-icon>
        </button>
        <h1 class="page-title">Caretaker Dashboard</h1>
        
        <mat-chip class="header-role-chip" [style.background]="getRoleColor()" *ngIf="!isSidebarOpen && !isMobile">
          <mat-icon class="chip-icon">verified</mat-icon>
          {{ getRoleDisplay() }}
        </mat-chip>
      </div>
      
      <div class="header-actions">
        <button mat-icon-button>
          <mat-icon>notifications</mat-icon>
        </button>
      </div>
    </header>

    <div class="content-area">
      <router-outlet></router-outlet>
    </div>
  </main>
</div>